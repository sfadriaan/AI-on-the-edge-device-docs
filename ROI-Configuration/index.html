
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://jomjol.github.io/AI-on-the-edge-device-docs/ROI-Configuration/" rel="canonical"/>
<link href="../Alignment/" rel="prev"/>
<link href="../Configuration/" rel="next"/>
<link href="../img/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.22" name="generator"/>
<title>ROIs (Regions of Interest) - AI on the Edge Device</title>
<link href="../assets/stylesheets/main.84d31ad4.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="blue" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#rois-regions-of-interest">1. 
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="AI on the Edge Device" class="md-header__button md-logo" data-md-component="logo" href=".." title="AI on the Edge Device">
<img alt="logo" src="../img/logo.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            AI on the Edge Device
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              ROIs (Regions of Interest)
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/jomjol/AI-on-the-edge-device-docs" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="AI on the Edge Device" class="md-nav__button md-logo" data-md-component="logo" href=".." title="AI on the Edge Device">
<img alt="logo" src="../img/logo.svg"/>
</a>
    AI on the Edge Device
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/jomjol/AI-on-the-edge-device-docs" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-ellipsis">
    Getting Started
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<span class="md-ellipsis">
    Welcome
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Installation/">
<span class="md-ellipsis">
    Installation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../initial-setup/">
<span class="md-ellipsis">
    Initial Setup
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Hardware-Compatibility/">
<span class="md-ellipsis">
    Hardware Compatibility
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Best-Practice/">
<span class="md-ellipsis">
    Best Practice
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../FAQs/">
<span class="md-ellipsis">
    Frequently Asked Questions
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Configuration
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Reference-Image/">
<span class="md-ellipsis">
    Reference Image
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Alignment/">
<span class="md-ellipsis">
    Alignment References
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    ROIs (Regions of Interest)
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    ROIs (Regions of Interest)
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#precondition">1.1 
<span class="md-ellipsis">
      Precondition
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#define-the-rois">1.2 
<span class="md-ellipsis">
      Define the ROIs
    </span>
</a>
<nav aria-label="Define the ROIs" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#analog-counters">1.2.1 
<span class="md-ellipsis">
      Analog Counters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#digits">1.2.2 
<span class="md-ellipsis">
      Digits
    </span>
</a>
<nav aria-label="Digits" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#correct-size-for-roi">1.2.2.1 
<span class="md-ellipsis">
      Correct Size for ROI
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#how-to-setup-the-digit-rois-perfectly">1.2.2.2 
<span class="md-ellipsis">
      How to setup the digit ROIs perfectly
    </span>
</a>
<nav aria-label="How to setup the digit ROIs perfectly" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#setup-using-dig-class11-models">1.2.2.2.1 
<span class="md-ellipsis">
      Setup using dig-class11 models
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#setup-using-dig-class100-or-dig-cont-models">1.2.2.2.2 
<span class="md-ellipsis">
      Setup using dig-class100 or dig-cont Models
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#saving">1.2.3 
<span class="md-ellipsis">
      Saving
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Configuration/">
<span class="md-ellipsis">
    Graphical Configuration
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Choosing-the-Model/">
<span class="md-ellipsis">
    Model Selection
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ota/">
<span class="md-ellipsis">
    Over-The-Air (OTA) Update
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Advanced
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Parameters/">
<span class="md-ellipsis">
    Parameters
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Integration-Home-Assistant/">
<span class="md-ellipsis">
    Integration into Home Assistant
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../External-LED/">
<span class="md-ellipsis">
    External LED
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../data-logging/">
<span class="md-ellipsis">
    Data Logging
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Password-Protection/">
<span class="md-ellipsis">
    Password Protection
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../unstable-installation/">
<span class="md-ellipsis">
    Living on the Edge
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Watermeter-specific-analog---digit-transition/">
<span class="md-ellipsis">
    Analog/Digit Transition on Water Meters
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../collect-new-images/">
<span class="md-ellipsis">
    Collect images to improve the models
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Learn-models-with-your-own-images/">
<span class="md-ellipsis">
    Learn a model with your own images
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Correction%20Algorithm/">
<span class="md-ellipsis">
    Correction Algorithm
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Neural-Network-Types/">
<span class="md-ellipsis">
    Neural Network Types
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Additional-Information/">
<span class="md-ellipsis">
    Additional Information
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../New-Releases-Notification/">
<span class="md-ellipsis">
    Notification about new Releases
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../prometheus-openmetrics/">
<span class="md-ellipsis">
    Prometheus/OpenMetrics
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Troubleshooting
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Error-Codes/">
<span class="md-ellipsis">
    Reduced webinterface (error codes)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../StatusLED-BlinkCodes/">
<span class="md-ellipsis">
    Board status LED (blink codes)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../WLAN-disconnect-reason/">
<span class="md-ellipsis">
    WLAN disconnect reasons
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Error-Debugging/">
<span class="md-ellipsis">
    Often observed issues
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Frequent-Reboots/">
<span class="md-ellipsis">
    Basic hardware/config issues
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Demo-Mode/">
<span class="md-ellipsis">
    Demo mode
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Quick Links
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Quick Links
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="https://github.com/jomjol/AI-on-the-edge-device/releases">
<span class="md-ellipsis">
    Releases
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://jomjol.github.io/AI-on-the-edge-device/index.html">
<span class="md-ellipsis">
    Web Installer/Console
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://github.com/jomjol/AI-on-the-edge-device/issues">
<span class="md-ellipsis">
    Create an Issue
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://github.com/jomjol/AI-on-the-edge-device/discussions">
<span class="md-ellipsis">
    Join a Discussion
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    API's
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            API's
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../REST-API/">
<span class="md-ellipsis">
    REST API
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../MQTT-API/">
<span class="md-ellipsis">
    MQTT API
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Influx-DB/">
<span class="md-ellipsis">
    Influx DB
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Webhook/">
<span class="md-ellipsis">
    Webhook
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    Development
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Development
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Build-Instructions/">
<span class="md-ellipsis">
    Build the Project
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Upload-files-by-script/">
<span class="md-ellipsis">
    Scripted File Upload
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Testing/">
<span class="md-ellipsis">
    Testing Option for VSCode
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Release-creation/">
<span class="md-ellipsis">
    Release Procedure
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-ellipsis">
    Old Pages (no longer maintained)
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            Old Pages (no longer maintained)
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../outdated--Integrated-Functions/">
<span class="md-ellipsis">
    Integrated Functions
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<span class="md-ellipsis">
    Assorted Pages
    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#precondition">1.1 
<span class="md-ellipsis">
      Precondition
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#define-the-rois">1.2 
<span class="md-ellipsis">
      Define the ROIs
    </span>
</a>
<nav aria-label="Define the ROIs" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#analog-counters">1.2.1 
<span class="md-ellipsis">
      Analog Counters
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#digits">1.2.2 
<span class="md-ellipsis">
      Digits
    </span>
</a>
<nav aria-label="Digits" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#correct-size-for-roi">1.2.2.1 
<span class="md-ellipsis">
      Correct Size for ROI
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#how-to-setup-the-digit-rois-perfectly">1.2.2.2 
<span class="md-ellipsis">
      How to setup the digit ROIs perfectly
    </span>
</a>
<nav aria-label="How to setup the digit ROIs perfectly" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#setup-using-dig-class11-models">1.2.2.2.1 
<span class="md-ellipsis">
      Setup using dig-class11 models
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#setup-using-dig-class100-or-dig-cont-models">1.2.2.2.2 
<span class="md-ellipsis">
      Setup using dig-class100 or dig-cont Models
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#saving">1.2.3 
<span class="md-ellipsis">
      Saving
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="rois-regions-of-interest"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.</span> ROIs (Regions of Interest)</h1>
<div class="admonition notes">
<p class="admonition-title">Notes</p>
<p>You are using a neural network approach which is trained to fit as many different type of meters as possible.
The accuracy will never be 100%. It is normal to see a missing reading once in a while. 
There are several precautions to detect this. For details see the section <code>PostProcessing</code> on the configuration page.</p>
</div>
<p>The most critical components for an accurate detection are:</p>
<ol>
<li>
<p>Correct setting of the <strong>R</strong>egions <strong>O</strong>f <strong>I</strong>nterest (ROIs) for detection of the image.</p>
<p><strong>This must be done manually for each device/installation!</strong></p>
</li>
<li>
<p>Using a well trained Model.</p>
<p>Have a look on the <a href="https://jomjol.github.io/neural-network-digital-counter-readout/">Digit Counters</a> resp. <a href="https://jomjol.github.io/neural-network-analog-needle-readout">Analog Needles</a> to check if your types are contained. If your number types are <strong>not</strong> contained, you should take the effort to record them so we can add them to the training data. See <a href="../Learn-models-with-your-own-images/">Collect images to improve the models</a> on how to collect new training data.</p>
</li>
</ol>
<h2 id="precondition"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.1</span> Precondition</h2>
<p>Please make sure to have:</p>
<ol>
<li>Setup your camera properly and taken a good <a href="../Reference-Image/">Reference Image</a>.</li>
<li>Selected good <a href="../Alignment/">Alignment References</a>.</li>
</ol>
<h2 id="define-the-rois"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2</span> Define the ROIs</h2>
<p>For each digit or analog pointer, a ROI must be defined.</p>
<p>You can even have multiple independent <strong>Numbers</strong> (eg. electerical meters mostly have 2 numbers for the high and low tariff). </p>
<p>Depending if you have only one of those types, you can enable/disable <code>(1)</code> it on the top left corner: </p>
<p><img alt="" src="../img/initial_setup_3_rois.jpg" style="width:500px"/></p>
<p>You can switch between the individual ROIs with the Drop down box <code>(2)</code>.
If you need additional ROIs or delete them you can do this with the control at <code>(3)</code>.
Like for the <a href="../Alignment/">Alignment References</a>, you can change the position, size and name of a ROI in the text fields or define them via drag and drop through the mouse button. 
Make sure the ROIs are in the right order, matching the significance of a digit/analog counter!</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The order of the ROIs defines how the individual digits are combined to the total number. The first ROI is the digit with the highest order (left side), then the second and so on. You can control the order in the selector tab and change it with the buttons <code>"move Next"</code> or <code>"move Previous"</code>.</p>
</div>
<p>In most cases <strong>digits</strong> are ordered equidistantly (have the same distance between each other) and have the same size.
Because of this, the Web Interface keeps their sizes and distance the same.
If you need individual sizes or distances, untick the settings <code>(4)</code>.</p>
<p>In almost all cases the sizes and <code>y</code> values should be identical!
The ratio between <code>x</code> and <code>y</code> might need adjustment. But make sure it is the same for all digits.</p>
<p>Same for the <strong>analog counters</strong>, the sizes should be identical and the <code>x</code> and <code>y</code> as well.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don't forget to save the settings with "Save" and do not reboot at this stage.</p>
</div>
<h3 id="analog-counters"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2.1</span> Analog Counters</h3>
<p>For analog counters the ROI setting is rather straight forward as the meter is usually quadratic with a clear center.
The circle should exactly fit to the outer size of the meter and the cross should be in the middle of the pointer.</p>
<p>Here is an example with the details for the ROI <code>ana1</code>: </p>
<p><img alt="" src="../img/initial_setup_3_analog_example.jpg" style="width:500px"/></p>
<h3 id="digits"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2.2</span> Digits</h3>
<p>For the Digit Meters it is a little bit more complicated, as there are different options of digit models which can be choosen.</p>
<h4 id="correct-size-for-roi"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2.2.1</span> Correct Size for ROI</h4>
<p>First of all, choose the right size of the ROI.
The configuration of ROIs differs a bit on the selected model (see below). </p>
<p>If you are in the initial setup, the model will be selectable in the next step. By default it is a <code>dig-cont</code> resp. <code>ana-cont</code> model.</p>
<p>In <a href="../Choosing-the-Model/">Model Selection</a> you find the differences between the different available models. Pick the one you think fits best your purpose. If you don't get to good result, try another model.</p>
<p>Here we only show the different configuration of the ROIs.</p>
<ol>
<li>
<p>Digit Meters with only recognized full digits (<code>0, 1, 2, 3, ... 9</code>)</p>
<p>Suggested Model: <code>dig-class11-*.tfl</code></p>
<p><strong>Advantage:</strong> broad variety of types included in the training.</p>
<p><strong>Disadvantage:</strong> partially rotated numbers cannot be detected.</p>
</li>
<li>
<p>Digit Meters with sub-digit resolution (<code>0.0, 0.1, 0.2, .... 9.8, 9.9</code>)</p>
<p>Suggested Model: <code>dig-cont-*.tfl</code> or <code>dig-class100-*.tfl</code></p>
<p><strong>Advantage:</strong> partial numbers can be detected and a better post processing is possible.</p>
<p><strong>Disadvantage:</strong> only limited types of meter types are trained due to the high effort for the training data.</p>
</li>
</ol>
<h4 id="how-to-setup-the-digit-rois-perfectly"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2.2.2</span> How to setup the digit ROIs perfectly</h4>
<p>Details and the corresponding "perfect" setting is explained below.
For a first run you can choose the following general settings: </p>
<ul>
<li>There is an inner and an outer frame for the ROIs. </li>
<li>Make the inner frame exactly the size of the number.</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>Example 1</th>
<th>Example 2</th>
</tr>
</thead>
<tbody>
<tr>
<td>✔️ <strong>Okay</strong></td>
<td><img alt="" src="../img/cont_img_ok.png" style="width:80px"/></td>
<td><img alt="" src="../img/wb_okay.jpg" style="width:80px"/></td>
</tr>
<tr>
<td>❌ <strong>Not</strong> Okay</td>
<td><img alt="" src="../img/bw_not_okay_small.jpg" style="width:80px"/></td>
<td><img alt="" src="../img/wb_not_okay_small.jpg" style="width:80px"/></td>
</tr>
<tr>
<td>❌ <strong>Not</strong> Okay</td>
<td><img alt="" src="../img/bw_not_okay_big.jpg" style="width:80px"/></td>
<td><img alt="" src="../img/wb_not_okay_big.jpg" style="width:80px"/></td>
</tr>
</tbody>
</table>
<h5 id="setup-using-dig-class11-models"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2.2.2.1</span> Setup using <code>dig-class11</code> models</h5>
<p><code>dig-class11</code> - Models recognize the <strong>complete digit only</strong>. Here it is not relevant if the ROI fits the Border of the digit window.</p>
<p>For this model, there should be a border of <code>20%</code> of the image size around the number itself. This border is shown in the ROI setup image by the inner thinner rectangle. This rectangle should fit perfectly around the number when the number has not started to rotate to the next position: </p>
<p><img src="../img/ROI_drawing.jpg" width="300px"/></p>
<table>
<thead>
<tr>
<th></th>
<th>Example 1</th>
<th>Example 2</th>
</tr>
</thead>
<tbody>
<tr>
<td>✔️ <strong>Okay</strong></td>
<td><img alt="" src="../img/bw_okay.jpg"/></td>
<td><img alt="" src="../img/wb_okay.jpg"/></td>
</tr>
<tr>
<td>❌ <strong>Not</strong> Okay</td>
<td><img alt="" src="../img/bw_not_okay_small.jpg"/></td>
<td><img alt="" src="../img/wb_not_okay_small.jpg"/></td>
</tr>
<tr>
<td>❌ <strong>Not</strong> Okay</td>
<td><img alt="" src="../img/bw_not_okay_big.jpg"/></td>
<td><img alt="" src="../img/wb_not_okay_big.jpg"/></td>
</tr>
</tbody>
</table>
<p>If you have perfect alignment and still are not getting satisfying results, most probably your numbers are not part of the training data yet. See <a href="../Learn-models-with-your-own-images/">Collect images to improve the models</a> on how to collect new training data.</p>
<h5 id="setup-using-dig-class100-or-dig-cont-models"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2.2.2.2</span> Setup using <code>dig-class100</code> or <code>dig-cont</code> Models</h5>
<p>These models recognize the <strong>tenths</strong> (fractions) between the numbers.
Those models require a different ROI setup; <strong>the height must be set differently and more accurately</strong>.</p>
<p>First, the width can be set like for a <code>dig-class11</code> model, i.e. <code>20%</code> margin left and right.</p>
<p><img alt="ROI-setup" src="https://user-images.githubusercontent.com/412645/199028748-c48ef5bb-a8d4-4c77-9faf-763e6cf77351.png" width="455"/></p>
<p>The height of the outer rectangle should be set to the upper and lower edge of the number window. To achieve this, you might need to unlock the aspect ratio:</p>
<p><img alt="unlockAspectRatio" src="https://user-images.githubusercontent.com/412645/199028590-21708ff3-15a3-4415-89b1-c2affcfce003.png" width="168"/></p>
<p>Here an example:</p>
<table>
<thead>
<tr>
<th></th>
<th>Example 1</th>
</tr>
</thead>
<tbody>
<tr>
<td>✔️ <strong>Okay</strong></td>
<td><img alt="dig-class100_OK" src="https://user-images.githubusercontent.com/412645/199028380-7623776e-59b9-4356-ab55-3852253609df.png" width="125"/></td>
</tr>
<tr>
<td>❌ <strong>Not</strong> Okay</td>
<td><img alt="dig-class100_NOK" src="https://user-images.githubusercontent.com/412645/199028469-3a69ed31-e5c9-4038-a8dc-6d44a42437ed.png" width="125"/></td>
</tr>
</tbody>
</table>
<h3 id="saving"><span class="enumerate-headings-plugin enumerate-heading-plugin">1.2.3</span> Saving</h3>
<p>Once you are done,  push <code>Save</code> to persist your setup.</p>
<p>A reboot is required to apply the changed configuration!</p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
</body>
</html>